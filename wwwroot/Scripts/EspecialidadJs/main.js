(()=>{"use strict";var e={437:(e,t)=>{var n;t.__esModule=!0,t.TipoOperacion=void 0,function(e){e[e.Nuevo=1]="Nuevo",e[e.Modificar=2]="Modificar",e[e.Eliminar=3]="Eliminar"}(n||(n={})),t.TipoOperacion=n},887:(e,t)=>{t.__esModule=!0,t.EspecialidadPaginada=t.Especialidad=void 0;t.Especialidad=function(){};t.EspecialidadPaginada=function(){}},134:(e,t)=>{t.__esModule=!0,t.EspecialidadServicio=void 0;var n=function(){function e(){}return e.prototype.GetEspecialidadesPaginadas=function(e){return void 0===e&&(e=null),fetch("/Especialidad/JsonEspecialidadesPaginadas?pagina="+e,{method:"GET"}).then((function(e){return e.ok||console.log("Error al obtener las especialidades: "+e.statusText),e.json()})).then((function(e){return e.especialidad}))},e.prototype.Add=function(e){return fetch("/Especialidad/AddEspecialidad",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok||console.log("Error al agregar: "+e.statusText),e.json()})).then((function(e){return e.respuesta}))},e.prototype.Update=function(e){return fetch("/Especialidad/UpdateEspecialidad",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok||console.log("Error al obtener modificar: "+e.statusText),e.json()})).then((function(e){return e.respuesta}))},e.prototype.Get=function(){return fetch("/Especialidad/JsonEspecialidades",{method:"GET"}).then((function(e){return e.ok||console.log("Error al obtener datos: "+e.statusText),e.json()})).then((function(e){return e.especialidades}))},e}();t.EspecialidadServicio=n},468:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function c(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}d((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}};t.__esModule=!0;var r,o,c=n(437),d=n(887),s=new(n(134).EspecialidadServicio),u=null;document.addEventListener("DOMContentLoaded",(function(){return i(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,p(null)];case 1:return e.sent(),[2]}}))}))})),document.getElementById("nuevaEspecialidad").addEventListener("click",(function(e){r=c.TipoOperacion.Nuevo,f(c.TipoOperacion.Nuevo,null),e.target.dataset.toggle="modal",e.target.dataset.target="#modalEspecialidad"}));var l=document.getElementById("formulario-especialidad");function p(e){return void 0===e&&(e=null),i(this,void 0,void 0,(function(){var t,n,d;return a(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,s.GetEspecialidadesPaginadas(e)];case 1:return t=l.sent(),(n=document.getElementById("tabla-especialidades")).innerHTML="",t.especialidades.forEach((function(e){var t=n.insertRow();t.innerHTML="\n        <td>"+e.descripcion+"</td>\n        <td></td>\n        ";var i=document.createElement("button");i.classList.add("btn"),i.style.padding="8px",i.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="20" fill="currentColor"\n        class="bi bi-pencil-square" viewBox="0 0 16 16">\n        <path\n        d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />\n        <path fill-rule="evenodd"\n        d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" />\n        </svg>\n        ',i.dataset.toggle="modal",i.dataset.target="#modalEspecialidad",i.onclick=function(){r=c.TipoOperacion.Modificar,o=e.id,f(c.TipoOperacion.Modificar,e)},t.children[1].appendChild(i)})),function(e){var t=this,n=document.querySelector(".contenedor-paginado");n.innerHTML="";for(var r=function(e){var r=document.createElement("button");r.classList.add("paginado","border"),r.textContent=e.toString(),r.onclick=function(){return i(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,p(e)];case 1:return t.sent(),u=e,[2]}}))}))},n.appendChild(r)},o=1;o<=e;o++)r(o)}(t.paginas),v=t.mostrando,h=t.totalRegistros,g=document.getElementById("mostrando"),E=document.getElementById("totalRegistros"),g.textContent=v.toString(),E.textContent=h.toString(),[3,3];case 2:return d=l.sent(),console.log(d),[3,3];case 3:return[2]}var v,h,g,E}))}))}function f(e,t){switch(console.log(e),e){case c.TipoOperacion.Nuevo:document.getElementById("modalEspecialidadTitulo").textContent="Nueva Especialidad",document.getElementById("descripcion").value="";break;case c.TipoOperacion.Modificar:document.getElementById("modalEspecialidadTitulo").textContent="Modificar Especialidad",document.getElementById("descripcion").value=t.descripcion;break;case c.TipoOperacion.Eliminar:document.getElementById("modalEspecialidadTitulo").textContent="Eliminar Especialidad"}}function v(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:switch(n=new d.Especialidad,e){case c.TipoOperacion.Nuevo:return[3,1];case c.TipoOperacion.Modificar:return[3,3];case c.TipoOperacion.Eliminar:return[3,5]}return[3,6];case 1:return n.descripcion=t.get("Descripcion").toString(),[4,h(n)];case 2:return i.sent()?alert("Especialidad Cargada"):alert("Error al agregar la especialidad"),[3,6];case 3:return n.id=o,n.descripcion=t.get("Descripcion").toString(),[4,g(n)];case 4:return i.sent()?p(u):alert("Error al modificar"),[3,6];case 5:return[3,6];case 6:return[2]}}))}))}function h(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,s.Add(e)];case 1:return[2,t.sent()]}}))}))}function g(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,s.Update(e)];case 1:return[2,t.sent()]}}))}))}l.addEventListener("submit",(function(e){return i(void 0,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return e.preventDefault(),t=new FormData(l),[4,v(r,t)];case 1:return n.sent(),[2]}}))}))}))}},t={};!function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(468)})();