@{
    ViewData["Title"] = "Nuevo Turno";
}

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

<div class="container">
    <div class="advertencia">
        <div class="icon-advertencia">
            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
              </svg>
        </div>
        <strong>Información!</strong> <p>Busque primero el dni del paciente para 
            saber si esta registrado. En caso de estarlo, los datos del paciente se cargaran
            automaticamente.
        </p>
    </div>
    <div class="lookup">
        <label>Ingrese el dni del paciente</label>
        <div class="form-inline">
            <div class="input-group mb-2 mr-sm-2">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-credit-card-2-back" viewBox="0 0 16 16">
                        <path d="M11 5.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1z"/>
                        <path d="M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2zm13 2v5H1V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1zm-1 9H2a1 1 0 0 1-1-1v-1h14v1a1 1 0 0 1-1 1z"/>
                      </svg>
                  </div>
                </div>
                <input type="text" class="form-control" id="inlineFormInputGroupUsername2" placeholder="Username" name="DniBuscar">
                <button type="button" class="btn btn-primary ml-2 btnBuscar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                      </svg>
                </button>
            </div>
        </div>
    </div>
    <div class="titulo mt-5">
        <div class="row">
            <div class="col-6">
                <h4>Datos del paciente</h4>
            </div>
            <div class="col-6 columna">
                <div class="linea">
                    <button class="btn btnLinea">
                        <svg xmlns="http://www.w3.org/2000/svg" width="45" height="30" fill="currentColor"
                            class="bi bi-chevron-down" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <form action="/Turnos/GrabarTurno" id="formulario" method="POST">
        <div class="datos-paciente mostrar-objeto">
            <div class="row m-2">
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" class="form-control" name="Nombre">
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Apellido</label>
                        <input type="text" class="form-control" name="Apellido">
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>DNI</label>
                        <input type="text" class="form-control" name="Dni">
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Fecha Nacimiento</label>
                        <input type="date" class="form-control" name="FechaNacimiento">
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Provincia</label>
                        <select class="form-control provincia" name="Provincia">
                        </select>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group datos-localidad">
                        <label>Localidad</label>
                        <select name="Localidad" class="form-control localidad">
                        </select>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="text" class="form-control" name="Email">
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Telefono</label>
                        <input type="text" class="form-control" name="Telefono">
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Celular</label>
                        <input type="text" class="form-control" name="Celular">
                    </div>
                </div>
            </div>
        </div>
        <div class="titulo mt-5">
            <div class="row">
                <div class="col-6">
                    <h4>Datos del turno</h4>
                </div>
                <div class="col-6 columna">
                    <div class="linea">
                        <button class="btn btnLineaTurno">
                            <svg xmlns="http://www.w3.org/2000/svg" width="45" height="30" fill="currentColor"
                                class="bi bi-chevron-down" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="datos-turno mostrar-objeto">
            <div class="row m-2">
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Especialidad</label>
                        <select name="Especialidad" class="form-control">
                            <option value="-1">Seleccione Especialidad</option>
                        </select>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Medico</label>
                        <select name="Medico" class="form-control">
                            <option value="-1">Seleccione Medico</option>
                        </select>
                    </div>
                </div>
                <div class="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                    <div class="form-group">
                        <label>Fecha Atención</label>
                        <input type="date" class="form-control" name="FechaAtencion">
                    </div>
                </div>
            </div>
            <div class="mt-3">
                <img class="ocultar-objeto" src="../Turnos/ajax-loader.gif" id="gif">
                <button class="btn btn-danger" id="mostrar">Mostrar Gif</button>
            </div>
        </div>
        <button type="submit" class="btn btn-dark">Enviar</button>
    </form>
</div>

<style>
    body {
        background-color: #ffffff;
    }
    .titulo {
        border-bottom: 3px solid #4834d4;
    }
    .columna {
        margin-left: 0;
        padding: 0;
    }
    .linea {
        float: right;
    }
    .btnLinea {
        border: none;
        padding: 0;
    }
    .datos-paciente {
        background-color: #95a5a6;
    }
    .mostrar-objeto {
        display: block;
    }
    .ocultar-objeto {
        display: none;
    }
    .localidad {
        border: 1px solid #0984e3;
    }
    .provincia {
        border: 1px solid #0984e3;
    }
    body label {
        font-family: 'Noto Sans KR', sans-serif;
    }
    .datos-turno {
        background-color: #95a5a6;
    }
    #gif {
        margin-left: 60px;
    }
    .borde-rojo {
        border: 1px solid red;
    }
    .btnLinea {
        background-color: #dff9fb;
    }
    .btnLineaTurno {
        background-color: #dff9fb;
    }
    #calendar {
        background-color: #dfe6e9;
    }
    .info{
        background-color: #fff;
        color:#2d3436;
        padding-top: 30px;
        padding-bottom: 30px;
    }
    .ausente{
        color:#d63031;
    }
    .estados{
        margin-left: 40px;
    }
    .estados li{
        font-size: 22px;
    }
    .atendido{
        color:#00b894;
    }
    .espera{
        color:#0984e3;
    }
    .advertencia{
        border:4px solid #e74c3c;
        width: 100%;
        text-align: center;
        color:#e74c3c;
        padding-top: 10px;
        padding-bottom: 10px;
        background-color: #fff;
    }
    .lookup{
        margin-top: 10px;
        margin-bottom: 10px;
        width: 50%;
    }
</style>
<!--
<div class="container">
    <div class="d-flex justify-content-center">
        <div class="form-inline">
            <div class="form-group">
                <input type="text" class="form-control" id="dni">
                <button type="button" id="buscar" class="btn btn-primary ml-3">
                    Buscar
                </button>
            </div>
        </div>
    </div>
    <div class="mt-4">
        <form action="/Turnos/GrabarTurno" method="POST">
            <div class="row">
                <div class="col-4">
                    <label>Nombre</label>
                    <input type="text" class="form-control" name="Nombre">
                </div>
                <div class="col-4">
                    <label>Apellido</label>
                    <input type="text" class="form-control" name="Apellido">
                </div>
                <div class="col-4">
                    <label>DNI</label>
                    <input type="text" class="form-control" name="Dni">
                </div>
                <div class="col-4">
                    <label>Fecha Nacimiento</label>
                    <input type="date" class="form-control" name="FechaNacimiento">
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <label>Provincia</label>
                    <select class="form-control" name="Provincia">

                    </select>
                </div>
                <div class="col-4">
                    <label>Localidad</label>
                    <select class="form-control" name="Localidad">

                    </select>
                </div>
                <div class="col-4">
                    <label>Telefono</label>
                    <input type="text" class="form-control" name="Telefono">
                </div>
                <div class="col-4">
                    <label>Celular</label>
                    <input type="text" class="form-control" name="Celular">
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <label>Especialidad</label>
                    <select class="form-control" name="Especialidad">

                    </select>
                </div>
                <div class="col-4">
                    <label>Medico</label>
                    <select class="form-control" name="Medico">

                    </select>
                </div>
                <div class="col-4">
                    <label>Fecha Atención</label>
                    <select class="form-control" name="FechaAtencion">
                        
                    </select>
                </div>
            </div>
        </form>
    </div>
</div>
-->
<!-- Modal -->
<div class="modal fade" id="modalSeleccionarMedico" tabindex="-1" aria-labelledby="modalSeleccionarMedicoLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Seleccionar Medico</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <div class="modal-body">
            <div class="border info">
                <label>Haga doble click sobre el medico para seleccionarlo</label>
            </div>
            <div class="mt-2">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Apellido y Nombre</th>
                                <th>Especialidad</th>
                            </tr>
                        </thead>
                        <tbody id="tabla-medicos">

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
        </div>
    </div>
  </div>
</div>

<style>
    .info{
        padding-top: 10px;
        padding-bottom: 10px;
    }
</style>

<script type="text/javascript">
    const btn = document.querySelector('.btnLinea');

    btn.addEventListener('click', () => {
        let divPaciente = document.querySelector('.datos-paciente');

        if (divPaciente.classList.contains('mostrar-objeto')) {
            divPaciente.classList.remove('mostrar-objeto');
            divPaciente.classList.add('ocultar-objeto');
            btn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="45" height="30" fill="currentColor"
                class="bi bi-chevron-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" />
                </svg>
                `
        } else {
            divPaciente.classList.remove('ocultar-objeto');
            divPaciente.classList.add('mostrar-objeto');
            btn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="45" height="30" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                </svg>
                `
        }
    });

    const btnDivTurno = document.querySelector('.btnLineaTurno');

    btnDivTurno.addEventListener('click', () => {
        let divPaciente = document.querySelector('.datos-turno');

        if (divPaciente.classList.contains('mostrar-objeto')) {
            divPaciente.classList.remove('mostrar-objeto');
            divPaciente.classList.add('ocultar-objeto');
            btnDivTurno.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="45" height="30" fill="currentColor"
                class="bi bi-chevron-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" />
                </svg>
                `
        } else {
            divPaciente.classList.remove('ocultar-objeto');
            divPaciente.classList.add('mostrar-objeto');
            btnDivTurno.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="45" height="30" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                </svg>
                `
        }
    });
</script>
<script src="~/Scripts/NuevoTurnoJs/main.js"></script>